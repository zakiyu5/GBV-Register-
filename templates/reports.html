{% extends "base.html" %}
{% block content %}
<h2>{{ period.capitalize() }} Report ({{ start_date }} to {{ end_date }})</h2>
<a href="/reports?period=daily" class="btn btn-sm btn-secondary">Daily</a>
<a href="/reports?period=weekly" class="btn btn-sm btn-secondary">Weekly</a>
<a href="/reports?period=monthly" class="btn btn-sm btn-secondary">Monthly</a>
<a href="/reports?period=quarterly" class="btn btn-sm btn-secondary">Quarterly</a>
<a href="/reports?period=yearly" class="btn btn-sm btn-secondary">Yearly</a>
<br><br>
<table class="table table-bordered">
    <thead>
        <tr>
            <th>Serial No.</th>
            <th>Name</th>
            <th>Gender</th>
            <th>Age</th>
            <th>Incident Date</th>
            <th>Type of Violence</th>
            <th>PEP Given</th>
        </tr>
    </thead>
    <tbody>
        {% for record in records %}
        <tr>
            <td>{{ record['serial_no'] }}</td>
            <td>{{ record['client_name'] }}</td>
            <td>{{ record['gender'] }}</td>
            <td>{{ record['age'] }}</td>
            <td>{{ record['incident_date'] }}</td>
            <td>{{ record['type_violence'] }}</td>
            <td>{{ record['pep_given'] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<div class="mt-4">
    <a href="/" class="btn btn-primary">← Back to Data Entry</a>
    <a href="/records" class="btn btn-secondary ms-2">View All Records</a>

    <!-- Export Buttons -->
    <div class="btn-group ms-3" role="group">
        <a href="/export/csv?period={{ current_period }}" class="btn btn-success">Download CSV</a>
        <a href="/export/excel?period={{ current_period }}" class="btn btn-info text-white">Download Excel</a>
    </div>

    <!-- Optional: Quick Print Button (uses browser print → save as PDF) -->
    <a href="/print-report?period={{ current_period }}" target="_blank" class="btn btn-outline-danger ms-2">
        Print Official Register (PDF)
    </a></div>{% endblock %}